!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("infestines")):"function"==typeof define&&define.amd?define(["exports","infestines"],r):r(n.L=n.L||{},n.I)}(this,function(n,r){"use strict";function t(n,r){return[n,r]}function u(n,r){for(var t,u=r.length,e=Array(u),o=0,i=0;i<u;++i)void 0!==(t=n(r[i],i))&&(e[o++]=t);if(o)return o<u&&(e.length=o),e}function e(n,r,t,u,e){for(;u<e;)n[r++]=t[u++];return n}function o(n,r,t){var u={map:X,ap:n,of:W(r)};return t&&(u.delay=t),u}function i(n,r){this.l=n,this.r=r}function f(n,r){for(;n&&vn(n);){var t=n.l;n=n.r,t&&vn(t)?(f(t.l,r),f(t.r,r)):r.push(t)}r.push(n)}function c(n){if(void 0!==n){var r=[];return f(n,r),r}}function a(n,r,t){for(;vn(t);){var u=t.l;t=t.r,r=vn(u)?a(n,a(n,r,u.l),u.r):n(r,u[0],u[1])}return n(r,t[0],t[1])}function v(n,r,t){var u=n.map,e=n.ap,o=n.of,i=n.delay,f=o(void 0),a=t.length;if(i)f=bn(u,e,f,i,r,t,0,a);else for(;a--;)f=e(u(ln,r(t[a],a)),f);return u(c,f)}function s(n){if(!(n instanceof Object))return n;for(var r in n)return n}function l(n,t,u){return void 0!==t?r.assocPartialU(n,t,u):J(n,u)}function d(n,r,t){tn(t)||(t="");var u=t.length;if(void 0!==r){for(var o=Math.max(n+1,u),i=Array(o),f=0;f<o;++f)i[f]=t[f];return i[n]=r,i}if(0<u){if(u<=n)return e(Array(u),0,t,0,u);if(1<u){for(var c=Array(u-1),a=0;a<n;++a)c[a]=t[a];for(var v=n+1;v<u;++v)c[v-1]=t[v];return c}}}function p(n,r){var t=r.length-n,u=void 0;if(t<2)return t?w(r[n]):Or;u=Array(t);for(var e=0;e<t;++e)u[e]=w(r[e+n]);return function(n,r,e,o){for(var i=t;--i;)r=Un(u[i],n,r);return u[0](n,r,e,o)}}function h(n,r,t){switch(typeof n){case"string":return l(n,r,t);case"number":return d(n,r,t);case"object":return g(n,0,t,r);default:return 4===n.length?n(un,W(r),t,void 0):t}}function m(n,r){switch(typeof n){case"string":return An(n,r);case"number":return wn(n,r);case"object":for(var t,u=0,e=n.length;u<e;++u)switch(typeof(t=n[u])){case"string":r=An(t,r);break;case"number":r=wn(t,r);break;default:return p(u,n)(en,Q,r,n[u-1])}return r;default:return 4===n.length?n(en,Q,r,void 0):n(r,void 0)}}function g(n,r,t,u){for(var e,o=n.length,i=Array(o),f=0;f<o;++f)switch(i[f]=t,typeof(e=n[f])){case"string":t=An(e,t);break;case"number":t=wn(e,t);break;default:t=p(f,n)(un,r||W(u),t,n[f-1]),o=f}o===n.length&&(t=r?r(t,n[o-1]):u);for(var c;0<=--o;)t=R(c=n[o])?l(c,t,i[o]):d(c,t,i[o]);return t}function y(n,r){var t=void 0;for(var u in n){var e=m(n[u],r);void 0!==e&&(t||(t={}),t[u]=e)}return t}function b(n,r,t,u,e,o,i,f,c,a){if(a<n.length){var v=n[a],s=c[v];return u(t($,r?r[a](i,f,c[v],v):f(s,v)),o(function(){return b(n,r,t,u,e,o,i,f,c,a+1)}))}return e}function j(n,r){for(var t=r.length,u=0;u<t;++u)if(n(r[u],u))return u;return t}function A(n,r,t){var u=t.length,e=n.hint;u<=e&&(e=u-1),e<0&&(e=0);for(var o=e-1;0<=o&&e<u;++e,--o){if(r(t[e],n))return e;if(r(t[o],n))return o}for(;e<u;++e)if(r(t[e],n))return e;for(;0<=o;--o)if(r(t[o],n))return o;return u}function O(n,r,t,u){for(var e,o=0,i=r.length;o<i;++o)(n(e=r[o],o)?t:u).push(e)}function w(n){switch(typeof n){case"string":return On(n);case"number":return xn(n);case"object":return p(0,n);default:return 4===n.length?n:Pn(n)}}function x(){for(var n=arguments.length,r=Array(n),t=0;t<n;++t)r[t]=w(arguments[t]);var u=function t(u,e,o,i){return i===n?u.of:function(n){return(0,u.chain)(t(u,e,o,i+1),r[i](u,e,n,o))}};return function(n,r,t,e){return u(n,r,e,0)(t)}}function U(){var n=arguments.length;if(n<2)return n?arguments[0]:Or;for(var r=Array(n);n--;)r[n]=arguments[n];return r}function k(n,r,t,u){var e=n.of;return e?e(t):(0,n.map)(W(t),r(void 0,u))}function M(n){function r(n,r,u,e){return t(n,r,u,e)}var t=function(u,e,o,i){return(t=w(n(r)))(u,e,o,i)};return r}function q(){var n=arguments,r=G(function(r,t){return console.log.apply(console,e([],0,n,0,n.length).concat([r,t])),t});return jr(r("get"),r("set"))}function z(n){var r=[],t=[];for(var u in n)r.push(u),t.push(w(n[u]));return zn(r,t)}function F(n,r,t,e){return tn(t)?n===un?u(r,t):v(n,r,t):(0,n.of)(t)}function P(n,t,u,e){return u instanceof Object?zn(r.keys(u))(n,t,u):(0,n.of)(u)}function E(n,r){return 1<arguments.length?m(n,r):function(r){return m(n,r)}}function I(n){return er(function(r){if(r=J(0,r))for(var t in n)r[t]=n[t](r);return r},function(r,t){function u(n,r){e||(e={}),e[n]=r}r=Mn(r),t instanceof Object||(t=void 0);var e=void 0;for(var o in r)K(o,n)?t&&K(o,t)&&u(o,t[o]):u(o,r[o]);return e})}function L(n){var r=function(r){return Fn(n,void 0,r)};return function(t,u,e,o){return(0,t.map)(r,u(void 0!==e?e:n,o))}}function N(n){var r=nn(n);return function(t,u,e,o){return(0,t.map)(r,u(void 0!==e?e:n,o))}}function _(n,r,t,u){var e=tn(t)?t.length:0;return(0,n.map)(function(n){return d(e,n,t)},r(void 0,e))}function B(){var n=U.apply(void 0,arguments);return[vr(function(r){return void 0!==m(n,r)}),n]}function D(){for(var n,r=arguments.length,t={},u=0;u<r;++u)t[n=arguments[u]]=n;return S(t)}function H(){function n(n){if(!(n instanceof Object))return n;for(var r=0,u=t.length;r<u;++r)if(K(t[r],n))return n}for(var r=arguments.length,t=Array(r),u=0;u<r;u++)t[u]=arguments[u];return function(r,t,u,e){return(0,r.map)(n,t(u,e))}}function S(n){return function(r,t,u,e){return(0,r.map)(kn(n,u),t(y(n,u),e))}}var W=r.always,C=r.applyU,G=r.curry,J=r.dissocPartialU,K=r.hasU,Q=r.id,R=r.isString,T=r.object0,V=r.pipe2U,X=r.sndU,Y=function(n){return!n},Z=function(n,r,t,u){return void 0!==u?Math.min(Math.max(n,u<0?r+u:u),r):t},$=function(n){return function(r){return[n,r]}},nn=function(n){return function(r){return void 0!==r?r:n}},rn=function(n){return void 0!==n?!n:n},tn=function(n){return n instanceof Object&&(n=n.length)===n>>0&&0<=n||R(n)},un={map:C,of:Q,ap:C,chain:C},en={map:X},on=function(n,r){return{concat:n,empty:function(){return r}}},fn=on(function(n,r){return r+n},0),cn=function(n){return on(function(r,t){return void 0===t||void 0!==r&&!n(t,r)?r:t})},an=function(n,r,t,u,e){return w(n)(r,t,u,e)},vn=function(n){return n.constructor===i},sn=function(n,r){return void 0!==n?void 0!==r?new i(n,r):n:r},ln=function(n){return function(r){return sn(n,r)}},dn=function(n,r,t){return void 0!==t?a(n,r,t):r},pn=o(sn),hn={},mn={v:!0},gn=o(function(n,r){for(;n.constructor===Function;)n=n();return void 0!==n.v?n:r},hn,Q),yn=function(n){return function(r,t,u){for(u=an(t,gn,V(r,n),u);u.constructor===Function;)u=u();return u.v}},bn=function n(r,t,u,e,o,i,f,c){return f<c?t(r(ln,o(i[f],f)),e(function(){return n(r,t,u,e,o,i,f+1,c)})):u},jn=function(n,r){return function(t){return function(u,e,o,i){return(0,u.map)(function(n){return r(t,n,o)},e(n(t,o),t))}}},An=function(n,r){return r instanceof Object?r[n]:void 0},On=jn(An,l),wn=function(n,r){return tn(r)?r[n]:void 0},xn=jn(wn,d),Un=function(n,r,t){return function(u,e){return n(r,t,u,e)}},kn=function(n,r){return function(t){for(var u in n)r=h(n[u],t&&t[u],r);return r}},Mn=function(n){return r.constructorOf(n)!==Object?Object.assign({},n):n},qn=function(n,r){return function(t){for(var u={},e=r.length,o=0;o<e;++o,t=t[1]){var i=t[0];u[r[o]]=void 0!==i?i:u}var f=void 0;n=Mn(n);for(var c in n){var a=u[c];u!==a&&(u[c]=u,f||(f={}),f[c]=void 0!==a?a:n[c])}for(var v=0;v<e;++v){var s=r[v],l=u[s];u!==l&&(f||(f={}),f[s]=l)}return f}},zn=function(n,r){return function(t,u,e,o){var i=t.map,f=t.ap,c=t.of,a=t.delay,v=n.length;if(!v)return c(s(e));e instanceof Object||(e=T);var l=c(0);if(a)l=b(n,r,i,f,l,a,t,u,e,0);else for(;v--;){var d=n[v],p=e[d];l=f(i($,r?r[v](t,u,p,d):u(p,d)),l)}return i(qn(e,n),l)}},Fn=function(n,t,u){return r.acyclicEqualsU(u,n)?t:u},Pn=function(n){return function(r,t,u,e){return(0,r.map)(W(u),t(n(u,e),e))}},En=G(function(n,r,t){switch(typeof n){case"string":return l(n,r(An(n,t),n),t);case"number":return d(n,r(wn(n,t),n),t);case"object":return g(n,r,t);default:return 4===n.length?n(un,r,t,void 0):(r(n(t,void 0),void 0),t)}}),In=G(function(n,r){return h(n,void 0,r)}),Ln=G(h),Nn=G(function(n,r,t,u){return an(t,n,r,u)}),_n=G(function(n,r){return[r,Dn(function(r,t){return void 0!==r?n(r,t):k})]}),Bn=function(){for(var n=arguments.length,r=Array(n),t=0;t<n;t++)r[t]=arguments[t];return Dn(function(n){var t=r[j(function(r){return void 0!==m(r,n)},r)];return void 0!==t?t:k})},Dn=function(n){return function(r,t,u,e){return an(n(u,e),r,t,u,e)}},Hn=function(n){return function(r,t,u,e){return n(u,e)?t(u,e):k(r,t,u,e)}},Sn=Hn(r.isDefined),Wn=r.curryN(4,function(n,r){var t=o(r.concat,(0,r.empty)(),r.delay);return function(r,u){return an(r,t,n,u)}}),Cn=Wn(Q),Gn=V(yn(function(n){return n?hn:mn}),Y),Jn=Gn(Q),Kn=V(yn(function(n){return n?mn:hn}),Boolean),Qn=G(function(n,t,u){return c(an(t,pn,n,u))||r.array0}),Rn=Qn(Q),Tn=Wn(function(n){return void 0!==n?1:0},fn),Vn=G(function(n,r,u,e){return dn(n,r,an(u,pn,t,e))}),Xn=G(function(n,r,u,e){for(var o=Qn(t,u,e),i=o.length-1;0<=i;--i){var f=o[i];r=n(r,f[0],f[1])}return r}),Yn=Cn(cn(function(n,r){return n>r})),Zn=Cn(cn(function(n,r){return n<r})),$n=Kn(Q),nr=Wn(nn(1),on(function(n,r){return r*n},1)),rr=G(yn(function(n){return void 0!==n?{v:n}:hn})),tr=rr(Q),ur=Wn(nn(0),fn),er=G(function(n,r){return function(t,u,e,o){return(0,t.map)(function(n){return r(n,e,o)},u(n(e,o),o))}}),or=er(Q),ir=function(n){return function(r,t,u,e){return(0,r.map)(function(r){return void 0!==r?n(r,e):r},t(void 0!==u?n(u,e):u,e))}},fr=function(n){return yr(n,void 0)},cr=function(n){return function(r,t,u,e){return(0,r.map)(function(r){return void 0!==r?n(r,e):r},t(u,e))}},ar=function(n){return function(r,t,u,o){var i=void 0,f=void 0;return tn(u)&&O(n,u,i=[],f=[]),(0,r.map)(function(n){var r=n?n.length:0,t=f?f.length:0,u=r+t;if(u)return u===t?f:e(e(Array(u),0,n,0,r),r,f,0,t)},t(i,o))}},vr=function(n){return function(r,t,u,e){var o=tn(u)?u:"",i=j(n,o);return(0,r.map)(function(n){return d(i,n,o)},t(o[i],i))}},sr=G(function(n,r){return function(t,u,e,o){var i=tn(e)?e:"",f=r.hint=A(r,n,i);return(0,t.map)(function(n){return d(f,n,i)},u(i[f],f))}}),lr=Q,dr=Dn(function(n){return tn(n)&&n.length?n.length-1:0}),pr=G(function(n,r){return function(t,u,o,i){var f=tn(o),c=f&&o.length,a=Z(0,c,0,n),v=Z(a,c,c,r);return(0,t.map)(function(n){var r=n?n.length:0,t=a+r,u=c-v+t;return u?e(e(e(Array(u),0,o,0,a),a,n,0,r),t,o,v,c):void 0},u(f?e(Array(Math.max(0,v-a)),0,o,a,v):void 0,i))}}),hr=Q,mr=function(n){return function(r,t,u,e){return t(void 0!==u&&null!==u?u:n,e)}},gr=G(function(n,r){return Dn(function(t){return void 0!==m(r,t)?r:n})}),yr=G(function(n,r){var t=function(t){return Fn(r,n,t)};return function(u,e,o,i){return(0,u.map)(t,e(Fn(n,r,o),i))}}),br=r.arityN(2,h),jr=G(function(n,r){return function(t,u,e,o){return(0,t.map)(r,u(n(e),o))}}),Ar=jr(rn,rn),Or=function(n,r,t,u){return r(t,u)},wr=function(n){return function(r,t,u,e){return(0,r.map)(function(r){return m(n,r)},t(h(n,u),e))}};n.toFunction=w,n.modify=En,n.remove=In,n.set=Ln,n.traverse=Nn,n.seq=x,n.compose=U,n.chain=_n,n.choice=Bn,n.choose=Dn,n.when=Hn,n.optional=Sn,n.zero=k,n.lazy=M,n.log=q,n.concatAs=Wn,n.concat=Cn,n.all=Gn,n.and=Jn,n.any=Kn,n.collectAs=Qn,n.collect=Rn,n.count=Tn,n.foldl=Vn,n.foldr=Xn,n.maximum=Yn,n.minimum=Zn,n.or=$n,n.product=nr,n.selectAs=rr,n.select=tr,n.sum=ur,n.branch=z,n.elems=F,n.values=P,n.get=E,n.lens=er,n.setter=or,n.augment=I,n.defaults=L,n.define=N,n.normalize=ir,n.required=fr,n.rewrite=cr,n.append=_,n.filter=ar,n.find=vr,n.findHint=sr,n.findWith=B,n.index=lr,n.last=dr,n.slice=pr,n.prop=hr,n.props=D,n.removable=H,n.valueOr=mr,n.orElse=gr,n.pick=S,n.replace=yr,n.getInverse=br,n.iso=jr,n.complement=Ar,n.identity=Or,n.inverse=wr,Object.defineProperty(n,"__esModule",{value:!0})});
