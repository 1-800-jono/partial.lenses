(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.L = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function pair(n,e){return[n,e]}function mapPartialIndexU(n,e){for(var t,r=[],i=e.length,o=0;o<i;++o)(0,_infestines.isDefined)(t=n(e[o],o))&&r.push(t);return r.length?r:void 0}function reqApplicative(n){return n}function Concat(n,e){this.l=n,this.r=e}function pushTo(n,e){for(;n&&isConcat(n);){var t=n.l;n=n.r,t&&isConcat(t)?(pushTo(t.l,e),pushTo(t.r,e)):e.push(t)}e.push(n)}function toArray(n){if((0,_infestines.isDefined)(n)){var e=[];return pushTo(n,e),e}}function foldRec(n,e,t){for(;isConcat(t);){var r=t.l;t=t.r,e=isConcat(r)?foldRec(n,foldRec(n,e,r.l),r.r):n(e,r[0],r[1])}return n(e,t[0],t[1])}function traversePartialIndex(n,e,t){for(var r=n.ap,i=n.map,o=reqApplicative(n.of)(void 0),s=t.length;s--;)o=r(i(rconcat,o),e(t[s],s));return i(toArray,o)}function setIndex(n,e,t){if((0,_infestines.isDefined)(e)){if(!(0,_infestines.isArray)(t))return n<0?void 0:nulls(n).concat([e]);var r=t.length;if(r<=n)return t.concat(nulls(n-r),[e]);if(n<0)return r?t:void 0;for(var i=Array(r),o=0;o<r;++o)i[o]=t[o];return i[n]=e,i}if((0,_infestines.isArray)(t)){var s=t.length;if(!s)return;if(n<0||s<=n)return t;if(1===s)return;for(var u=Array(s-1),c=0;c<n;++c)u[c]=t[c];for(var f=n+1;f<s;++f)u[f-1]=t[f];return u}}function optic(n){return n}function composed(n,e){switch(e.length-n){case 0:return identity;case 1:return toFunction(e[n]);default:return function(t,r,i,o){var s=e.length;for(r=close(toFunction(e[--s]),t,r);n<--s;)r=close(toFunction(e[s]),t,r);return run(e[n],t,r,i,o)}}}function setU(n,e,t){switch(typeof n){case"string":return setProp(n,e,t);case"number":return setIndex(n,e,t);case"function":return optic(n)(Ident,(0,_infestines.always)(e),t,void 0);default:return modifyComposed(n,(0,_infestines.always)(e),t)}}function getComposed(n,e){for(var t,r=0,i=n.length;r<i;++r)switch(typeof(t=n[r])){case"string":e=getProp(t,e);break;case"number":e=getIndex(t,e);break;default:return composed(r,n)(Const,_infestines.id,e,n[r-1])}return e}function getU(n,e){switch(typeof n){case"string":return getProp(n,e);case"number":return getIndex(n,e);case"function":return optic(n)(Const,_infestines.id,e,void 0);default:return getComposed(n,e)}}function modifyComposed(n,e,t){for(var r,i=n.length,o=[],s=0;s<i;++s)switch(o.push(t),typeof(r=n[s])){case"string":t=getProp(r,t);break;case"number":t=getIndex(r,t);break;default:t=composed(s,n)(Ident,e,t,n[s-1]),i=s}for(i===n.length&&(t=e(t,n[i-1]));0<=--i;){var u=n[i];switch(typeof u){case"string":t=setProp(u,t,o[i]);break;case"number":t=setIndex(u,t,o[i])}}return t}function getPick(n,e){var t=void 0;for(var r in n){var i=getU(n[r],e);(0,_infestines.isDefined)(i)&&(t||(t={}),t[r]=i)}return t}function branchOn(n,e){var t=n.length;return function(r,i,o,s){var u=r.ap,c=function e(t,r){return 0<=r?function(i){return e(setProp(n[r],i,t),r-1)}:t},f=reqApplicative(r.of)(c(o,t-1));(0,_infestines.isObject)(o)||(o=void 0);for(var a=t-1;0<=a;--a){var p=n[a],d=o&&o[p];f=u(f,e?e[a](r,i,d,p):i(d,p))}return(0,r.map)(object0ToUndefined,f)}}function findIndex(n,e){for(var t=0,r=e.length;t<r;++t)if(n(e[t],t))return t;return-1}function partitionIntoIndex(n,e,t,r){for(var i,o=0,s=e.length;o<s;++o)(n(i=e[o],o)?t:r).push(i)}function toFunction(n){switch(typeof n){case"string":return funProp(n);case"number":return funIndex(n);case"function":return optic(n);default:return composed(0,n)}}function compose(){switch(arguments.length){case 0:return identity;case 1:return arguments[0];default:for(var n=arguments.length,e=Array(n),t=0;t<n;++t)e[t]=arguments[t];return e}}function zero(n,e,t,r){var i=n.of;return i?i(t):(0,n.map)((0,_infestines.always)(t),e(void 0,r))}function lazy(n){function e(n,e,r,i){return t(n,e,r,i)}var t=function(r,i,o,s){return(t=toFunction(n(e)))(r,i,o,s)};return e}function branch(n){var e=[],t=[];for(var r in n)e.push(r),t.push(toFunction(n[r]));return branchOn(e,t)}function sequence(n,e,t,r){return(0,_infestines.isArray)(t)?n===Ident?mapPartialIndexU(e,t):traversePartialIndex(n,e,t):(0,_infestines.isObject)(t)?branchOn((0,_infestines.keys)(t))(n,e,t):reqApplicative(n.of)(t)}function findWith(){var n=compose.apply(void 0,arguments);return[find(function(e){return(0,_infestines.isDefined)(getU(n,e))}),n]}function index(n){return n}function prop(n){return n}function props(){for(var n,e=arguments.length,t={},r=0;r<e;++r)t[n=arguments[r]]=n;return pick(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inverse=exports.identity=exports.iso=exports.getInverse=exports.replace=exports.pick=exports.just=exports.to=exports.orElse=exports.valueOr=exports.find=exports.filter=exports.append=exports.rewrite=exports.normalize=exports.define=exports.required=exports.defaults=exports.augment=exports.lens=exports.get=exports.sum=exports.product=exports.minimum=exports.maximum=exports.foldr=exports.foldl=exports.collectMap=exports.collect=exports.collectAs=exports.merge=exports.mergeAs=exports.foldMapOf=exports.concat=exports.concatAs=exports.log=exports.optional=exports.when=exports.choose=exports.choice=exports.chain=exports.set=exports.remove=exports.modify=void 0,exports.toFunction=toFunction,exports.compose=compose,exports.zero=zero,exports.lazy=lazy,exports.branch=branch,exports.sequence=sequence,exports.findWith=findWith,exports.index=index,exports.prop=prop,exports.props=props;var _infestines=require("infestines"),flip=function(n){return function(e,t){return n(t,e)}},unto=function(n){return function(e){return(0,_infestines.isDefined)(e)?e:n}},Applicative=function(n,e,t){return{map:n,of:e,ap:t}},Ident=Applicative(_infestines.applyU,_infestines.id,_infestines.applyU),Const={map:_infestines.sndU},TacnocOf=function(n,e){return Applicative(_infestines.sndU,(0,_infestines.always)(n),e)},Monoid=function(n,e){return{empty:function(){return n},concat:e}},Mum=function(n){return Monoid(void 0,function(e,t){return!(0,_infestines.isDefined)(t)||(0,_infestines.isDefined)(e)&&!n(t,e)?e:t})},run=function(n,e,t,r,i){return toFunction(n)(e,t,r,i)},constAs=function(n){return(0,_infestines.curryN)(4,function(e,t){var r=n(t);return function(n,t){return run(n,r,e,t)}})},isConcat=function(n){return n.constructor===Concat},ap=function(n,e){return(0,_infestines.isDefined)(e)?(0,_infestines.isDefined)(n)?new Concat(e,n):e:n},rconcat=function(n){return function(e){return ap(n,e)}},fold=function(n,e,t){return(0,_infestines.isDefined)(t)?foldRec(n,e,t):e},Collect=TacnocOf(void 0,ap),array0ToUndefined=function(n){return n.length?n:void 0},object0ToUndefined=function(n){if(!(0,_infestines.isObject)(n))return n;for(var e in n)return n},isProp=function(n){return"string"==typeof n},getProp=function(n,e){return(0,_infestines.isObject)(e)?e[n]:void 0},setProp=function(n,e,t){return(0,_infestines.isDefined)(e)?(0,_infestines.assocPartialU)(n,e,t):(0,_infestines.dissocPartialU)(n,t)},funProp=function(n){return function(e,t,r,i){return(0,e.map)(function(e){return setProp(n,e,r)},t(getProp(n,r),n))}},isIndex=function(n){return Number.isInteger(n)&&0<=n},nulls=function(n){return Array(n).fill(null)},getIndex=function(n,e){return(0,_infestines.isArray)(e)?e[n]:void 0},funIndex=function(n){return function(e,t,r,i){return(0,e.map)(function(e){return setIndex(n,e,r)},t(getIndex(n,r),n))}},seemsOptic=function(n){return"function"==typeof n&&4===n.length},close=function(n,e,t){return function(r,i){return n(e,t,r,i)}},setPick=function(n,e){return function(t){(0,_infestines.isObject)(t)||(t=void 0);for(var r in n)e=setU(n[r],t&&t[r],e);return e}},show=function(n,e){return function(t){return console.log.apply(console,n.concat([e,t]))||t}},normalizer=function(n){return function(e,t,r,i){return(0,e.map)(function(e){return n(e,i)},t(n(r,i),i))}},replaced=function(n,e,t){return(0,_infestines.acyclicEqualsU)(t,n)?e:t},modify=exports.modify=(0,_infestines.curry)(function(n,e,t){switch(typeof n){case"string":return setProp(n,e(getProp(n,t),n),t);case"number":return setIndex(n,e(getIndex(n,t),n),t);case"function":return optic(n)(Ident,e,t,void 0);default:return modifyComposed(n,e,t)}}),remove=exports.remove=(0,_infestines.curry)(function(n,e){return setU(n,void 0,e)}),set=exports.set=(0,_infestines.curry)(setU),chain=exports.chain=(0,_infestines.curry)(function(n,e){return[e,choose(function(e,t){return(0,_infestines.isDefined)(e)?n(e,t):zero})]}),choice=exports.choice=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return choose(function(n){var t=findIndex(function(e){return(0,_infestines.isDefined)(getU(e,n))},e);return t<0?zero:e[t]})},choose=exports.choose=function(n){return function(e,t,r,i){return run(n(r,i),e,t,r,i)}},when=exports.when=function(n){return function(e,t,r,i){return n(r,i)?t(r,i):zero(e,t,r,i)}},optional=exports.optional=when(_infestines.isDefined),log=exports.log=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return iso(show(e,"get"),show(e,"set"))},concatAs=exports.concatAs=constAs(function(n){return TacnocOf((0,n.empty)(),flip(n.concat))}),concat=exports.concat=concatAs(_infestines.id),foldMapOf=exports.foldMapOf=(0,_infestines.curry)(function(n,e,t,r){return concatAs(t,n,e,r)}),mergeAs=exports.mergeAs=constAs(function(n){return TacnocOf((0,n.empty)(),n.concat)}),merge=exports.merge=mergeAs(_infestines.id),collectAs=exports.collectAs=(0,_infestines.curry)(function(n,e,t){return toArray(run(e,Collect,n,t))||[]}),collect=exports.collect=collectAs(_infestines.id),collectMap=exports.collectMap=(0,_infestines.curry)(function(n,e,t){return collectAs(e,n,t)}),foldl=exports.foldl=(0,_infestines.curry)(function(n,e,t,r){return fold(n,e,run(t,Collect,pair,r))}),foldr=exports.foldr=(0,_infestines.curry)(function(n,e,t,r){for(var i=collectAs(pair,t,r),o=i.length-1;0<=o;--o){var s=i[o];e=n(e,s[0],s[1])}return e}),maximum=exports.maximum=merge(Mum(function(n,e){return n>e})),minimum=exports.minimum=merge(Mum(function(n,e){return n<e})),product=exports.product=mergeAs(unto(1),Monoid(1,function(n,e){return e*n})),sum=exports.sum=mergeAs(unto(0),Monoid(0,function(n,e){return e+n})),get=exports.get=(0,_infestines.curry)(getU),lens=exports.lens=(0,_infestines.curry)(function(n,e){return function(t,r,i,o){return(0,t.map)(function(n){return e(n,i,o)},r(n(i,o),o))}}),augment=exports.augment=function(n){return lens(function(e){var t=(0,_infestines.dissocPartialU)(0,e);if(t)for(var r in n)t[r]=n[r](t);return t},function(e,t){if((0,_infestines.isObject)(e)){var r=function(){(0,_infestines.isObject)(t)||(t=void 0);var r=void 0,i=function(n,e){r||(r={}),r[n]=e};for(var o in e)o in n?t&&o in t&&i(o,t[o]):i(o,e[o]);return{v:r}}();if("object"==typeof r)return r.v}})},defaults=exports.defaults=function(n){var e=function(e){return replaced(n,void 0,e)};return function(t,r,i,o){return(0,t.map)(e,r((0,_infestines.isDefined)(i)?i:n,o))}},required=exports.required=function(n){return replace(n,void 0)},define=exports.define=function(n){return normalizer(unto(n))},normalize=exports.normalize=function(n){return normalizer(function(e,t){return(0,_infestines.isDefined)(e)?n(e,t):void 0})},rewrite=exports.rewrite=function(n){return function(e,t,r,i){return(0,e.map)(function(e){return(0,_infestines.isDefined)(e)?n(e,i):void 0},t(r,i))}},append=exports.append=function(n,e,t,r){return(0,n.map)(function(n){return array0ToUndefined(((0,_infestines.isArray)(t)?t:_infestines.array0).concat((0,_infestines.isDefined)(n)?[n]:_infestines.array0))},e(void 0,r))},filter=exports.filter=function(n){return function(e,t,r,i){var o=void 0,s=_infestines.array0;return(0,_infestines.isArray)(r)&&partitionIntoIndex(n,r,o=[],s=[]),(0,e.map)(function(n){return array0ToUndefined((0,_infestines.isArray)(n)?n.concat(s):s)},t(o,i))}},find=exports.find=function(n){return choose(function(e){if(!(0,_infestines.isArray)(e))return 0;var t=findIndex(n,e);return t<0?append:t})},valueOr=exports.valueOr=function(n){return function(e,t,r,i){return t((0,_infestines.isDefined)(r)&&null!==r?r:n,i)}},orElse=exports.orElse=(0,_infestines.curry)(function(n,e){return choose(function(t){return(0,_infestines.isDefined)(getU(e,t))?e:n})}),to=exports.to=function(n){return function(e,t,r,i){return(0,e.map)((0,_infestines.always)(r),t(n(r,i),i))}},just=exports.just=function(n){return to((0,_infestines.always)(n))},pick=exports.pick=function(n){return function(e,t,r,i){return(0,e.map)(setPick(n,r),t(getPick(n,r),i))}},replace=exports.replace=(0,_infestines.curry)(function(n,e){var t=function(t){return replaced(e,n,t)};return function(r,i,o,s){return(0,r.map)(t,i(replaced(n,e,o),s))}}),getInverse=exports.getInverse=(0,_infestines.arityN)(2,setU),iso=exports.iso=(0,_infestines.curry)(function(n,e){return function(t,r,i,o){return(0,t.map)(e,r(n(i),o))}}),identity=exports.identity=function(n,e,t,r){return e(t,r)},inverse=exports.inverse=function(n){return function(e,t,r,i){return(0,e.map)(function(e){return getU(n,e)},t(setU(n,r),i))}};

},{"infestines":undefined}]},{},[1])(1)
});